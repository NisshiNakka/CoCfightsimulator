<div class="card shadow-sm border-light">
  <div class="card-body p-4">
    <div class="row g-4 align-items-start mb-4">
      <div class="col-12 col-md-auto">
        <div class="mx-auto" style="width: 120px;">
          <%= image_tag "tentative_character_icon.png", class: "img-fluid rounded border object-fit-cover", style: "aspect-ratio: 3/4; width: 100%;" %>
          <!-- MVPリリース後　キャラアイコン登録機能実装時に使用
          <%# if @character.icon.attached? %>
            <%# image_tag @character.icon, class: "img-fluid rounded border object-fit-cover", style: "aspect-ratio: 3/4; width: 100%;" %>
          <%# else %>
            <%= image_tag "tentative_character_icon.png", class: "img-fluid rounded border object-fit-cover", style: "aspect-ratio: 3/4; width: 100%;" %>
          <%# end %>
          -->
        </div>
      </div>

      <div class="col">
        <h2 class="h4 fw-bold mb-3 border-bottom pb-2"><%= character.name %></h2>
        <div class="row g-3">
          <% [
            ['hitpoint', character.hitpoint],
            ['dexterity', character.dexterity],
            ['evasion_rate', "#{character.evasion_rate}%"],
            ['evasion_correction', character.evasion_correction],
            ['armor', character.armor],
            ['damage_bonus', character.damage_bonus]
          ].each do |attr, value| %>
            <div class="col-6 col-sm-4">
              <label class="text-secondary small d-block"><%= t("activerecord.attributes.character.#{attr}") %></label>
              <span class="fw-semibold"><%= value %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <div class="mt-4 border-top pt-4">
      <h3 class="h6 fw-bold mb-3 text-secondary text-uppercase"><i class="bi bi-swords me-2"></i><%= t('activerecord.models.attack') %></h3>
      <div class="row row-cols-1 row-cols-md-3 g-3">
        <% character.attacks.each do |attack| %>
          <div class="col">
            <div class="p-3 border rounded bg-light-subtle h-100">
              <div class="fw-bold mb-1"><%= attack.name %></div>
                <div class="small text-muted">
                <% [
                  ['success_probability', "#{attack.success_probability}%"],
                  ['dice_correction', attack.dice_correction],
                  ['damage', attack.damage],
                  ['attack_range', attack.attack_range_i18n],
                ].each do |attr, value| %>
                  <%= t("activerecord.attributes.attack.#{attr}") %> : <span class="text-dark fw-bold"><%= value %></span><br>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <% if local_assigns[:characters_show] %>
      <div class="d-flex justify-content-end gap-2 mt-4 pt-3 border-top">
        <%= link_to t('defaults.edit'), edit_character_path(character), class: 'btn btn-outline-primary btn-sm px-4' %>
        <%= link_to t('defaults.delete'), character_path(character), id: "button-delete-#{character.id}", class: 'btn btn-outline-danger btn-sm px-4', data: { turbo_method: :delete, turbo_confirm: t('defaults.delete_confirm') } %>
      </div>
    <% end %>
  </div>
</div>